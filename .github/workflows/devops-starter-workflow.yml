name: Build and Deploy Python app to Azure
on:
  push:
    branches:
      - master

env:
  AZURE_WEBAPP_NAME: "final-project-D0928898"    # set this to your application's name
  AZURE_WEBAPP_PACKAGE_PATH: "Application"      # set this to the path to your web app project, defaults to the repository root
  PYTHON_VERSION: '3.7.5'                       # set this to the python version to use
  RESOURCEGROUPNAME: "final-project-D0928898-rg"
  LOCATION: "South Central US"
  HOSTINGPLANNAME: "final-project-D0928898-plan"
  APPINSIGHTLOCATION: "South Central US"
  SKU: "S1 Standard"

sunny
#1986
nodding

ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” 2022/12/25 03:02
è©±èªª
ç·¨è­¯å™¨æ˜¯é€™ç¦®æ‹œé‚„ä¸‹ç¦®æ‹œ?
KIYO â€” 2022/12/25 03:08
12/26
æ˜å¤©
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” 2022/12/25 03:08
:puppysad:
ä¸‹ç¦®æ‹œç™¼è€ƒå·é‚„æ˜¯ç›´æ¥èµ°äºº?
KIYO â€” 2022/12/25 03:15
ä½ å•çš„æ˜¯æœŸæœ«è€ƒå—?
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” 2022/12/25 03:16
4
KIYO â€” 2022/12/25 03:16
é‚£å°±æ˜¯1/2
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” 2022/12/25 03:16
:AYAYAYA:
KIYO â€” 2022/12/25 03:16
ä¸‹ç¦®æ‹œäºŒä¸‰æ™šä¸Šæ˜¯è¦DEMO
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” 2022/12/25 03:16
OK:SIBALAOMA:
KIYO â€” 2022/12/25 03:17
ä¸‹ç¦®æ‹œäºŒç…§ç†æœƒæ´©é¡Œ è½ä¸€ä¸‹èª²ä¸è™§
FBK â€” æ˜¨å¤© 09:09
@ewd9210 å¯ä¸å¯ä»¥å€Ÿcloneä½ çš„Azure Devopsï¼Œæˆ‘çš„ä¸€ç›´ç˜‹ç‹‚å ±éŒ¯
FBK â€” æ˜¨å¤© 09:55
ç¶²é å…§å®¹ç•¶ç„¶æœƒæ›ä¸€å€‹åšå•¦
ewd9210 â€” æ˜¨å¤© 13:07
æˆ‘æ•™ä½  ä½ æ‹¿ç•¶åˆæœ€æ—©åšbmiæˆ–æ˜¯æœç´¢åˆ—çš„é‚£å€‹æ”¹
æ”¹ä»–çš„index.htmlå°±å¥½
FBK â€” æ˜¨å¤© 13:09
å°±æ˜¯é‚£å€‹çˆ›æ‰äº†
å…ˆå ±python 3.6
å†å ±werkzeug
ä¿®ä¸å¥½
ewd9210 â€” æ˜¨å¤© 13:11
æˆ‘æ˜¯ç”¨è»Ÿé«”æ¸¬è©¦çš„é‚£å€‹åšçš„
FBK â€” æ˜¨å¤© 13:12
å®Œäº†ï¼Œä»–ä¸€ç›´åƒè¶…å¤šéŒ¢æˆ‘åˆªæ‰äº†
ewd9210 â€” æ˜¨å¤© 13:12
ä½ ç…§è»Ÿé«”æ¸¬è©¦çš„æ–¹æ³•é–‹ä¸€å€‹ç©ºçš„devops starts
ç„¶å¾Œå»ymlé‚£é‚ŠæŠŠjobåº•ä¸‹é€šé€šæ›æˆé€™å€‹
jobs:
  Build:
    name: Build and Run tests
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4
      with:
        python-version: '3.8'

    - name: Install Dependancies
      continue-on-error: false
      run: |
        pip install -r Application/requirements.txt
  
   # - name: Pytest
   #   continue-on-error: false
   #   run: |
   #     mkdir testresults
   #     pip install pytest
   #     pip install pytest-cov
   #     pytest --cov=./ --cov-config=.coveragerc --cov-report term-missing Tests/unit_tests --junitxml=./testresults/test-results.xml
   #     pip install pycmd
   #     py.cleanup Tests/
   
   # - uses: actions/checkout@v2
   #   with:
   #     fetch-depth: 0
   # - uses: sonarsource/sonarqube-scan-action@master
   #   env:
   #     SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
        
    # Uploading unit test results to artifact store
    - name: Upload unit test results to Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: UnitTestResults
        path: ./testresults/test-results.xml

    - name: Building web app
      uses: azure/appservice-build@v2-beta
      with:
          source-directory: ${{ env.AZURE_WEBAPP_PACKAGE_PATH }}
          output-directory: ${{ env.AZURE_WEBAPP_PACKAGE_PATH }}

    - name: Creating artifact directories
      run: |
        mkdir buildartifacts
        mkdir testartifacts
        mkdir deploymenttemplates
    # Archive build artifact
    - name: Archive Application
      run: |
       zip -qq -r ./buildartifacts/Application.zip ./Application
    # Uploading application to artifact store
    - name: Upload Application to Build Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: buildartifacts
        path: buildartifacts

    # Archive Arm template
    - name: Archive ArmTemplates
      run: |
        zip -qq -r ./deploymenttemplates/ArmTemplates.zip ./ArmTemplates
    # Uploading Arm Template to artifact store
    - name: Upload Arm templates to Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: deploymenttemplates
        path: deploymenttemplates

  Deploy:
    name: Deploy to azure web app
    needs: Build
    runs-on: ubuntu-latest
    steps:
    # Downloading build artifact
    - name: Download Build Artifact
      uses: actions/download-artifact@v2
      continue-on-error: false
      with:
        name: buildartifacts
        path: buildartifacts

    # Unzipping build artifacts
    - name: Unzipping Build Artifact
      run: |
        unzip -qq ./buildartifacts/Application.zip -d .
  # Downloading Arm Template
    - name: Download Arm Template
      uses: actions/download-artifact@v2
      continue-on-error: false
      with:
        name: deploymenttemplates
        path: deploymenttemplates

... (é‚„å‰© 25 è¡Œ)
æ”¶èµ·
3.txt
5 KB
FBK â€” æ˜¨å¤© 13:13
K
ewd9210 â€” æ˜¨å¤© 13:14
é€™å€‹æ˜¯æ²’æœ‰sonar pytest function testçš„ æˆ‘æ‹¿æ‰äº†
ç„¶å¾Œä»–çš„imdex.htmlæˆ‘è¨˜å¾—åœ¨application app template é‚£é‚Š
æ”¹indexå°±å¥½ å…¶ä»–ä¸è¦äº‚åˆª
FBK â€” æ˜¨å¤© 13:16
çœŸçš„æœ‰å¤ æƒ³ç”¨reactè‡ªå·±æï¼Œä½†æˆ‘æ²’ä¼ºæœå™¨èƒ½æ¶ç¶²ç«™
é˜¿è–©æ–¯é¾èª-çœŸçš„å¥½å¼· â€” æ˜¨å¤© 14:21
:NootNoot:
Felix007 â€” æ˜¨å¤© 14:32
è»Ÿé«”æ¸¬è©¦è¦ç”¨azureå“¦:puppysad:
FBK â€” æ˜¨å¤© 14:34
?
Felix007 â€” æ˜¨å¤© 14:42
ä¸ç„¶ç‚ºå•¥ç”¨azure:worrySad:
æˆ‘çš„ä¹Ÿæ˜¯å¼„ä¸å¥½
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 14:47
ï¼Ÿ
ewd9210 â€” æ˜¨å¤© 14:52
:Thonk_1:
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 15:04
:ganyustare:
Felix007 â€” æ˜¨å¤© 15:06
æ‰€ä»¥ä¸ç”¨å°±æ˜¯äº†
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 15:06
ï¼Ÿ
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 15:08
åœ–ç‰‡
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 15:18
ä¸ç„¶ä½ è¦awså—
Felix007 â€” æ˜¨å¤© 15:19
æˆ‘æŒ‡è€ƒè©¦:AobaREEE: æ¼äº†
å¯ä»¥éƒ½ä¸è¦å—:Sudoku:
ä¸ç”¨é›²
FBK â€” æ˜¨å¤© 15:27
åˆ°åº•å…¬ä¸‰å°
ç…©æ­»äº†
Felix007 â€” æ˜¨å¤© 16:17
å°±æ˜¯"è€ƒè©¦è¦ç”¨azureåšdevopså—ï¼Ÿ"
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 16:18
:puppysad:
ä¸ç„¶ä½ è¦ç”¨awsåšå—
Felix007 â€” æ˜¨å¤© 16:20
:filianRip:
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 16:21
:Karyl_04:
æˆ‘ä¸çŸ¥é“
å¾ä¸€é–‹å§‹å°è©±å°±ä¸åœ¨ä¸€å€‹é »é“ä¸Š
é€™é‚„è¬›å•¥
Felix007 â€” æ˜¨å¤© 16:24
æ‰€ä»¥devopsè¦è€ƒå“¦:filianRip:
Maple â€” æ˜¨å¤© 16:45
:KyouryuuWaaat:
Maple â€” æ˜¨å¤© 16:46
éƒ½è€ƒéƒ½çœ‹ Aws azureä¸€èµ·è®€å°±æ²’å•é¡Œäº†
Felix007 â€” æ˜¨å¤© 16:47
ä¸è¦è¢«å¥³è£äººå£«é¨™äº†
awsæ²’æœ‰æ•™
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 16:48
é€™æ±è¥¿ä¸Šäº†ä¸‰å€‹é‚„å››å€‹ç¦®æ‹œ ä½ èªªå‘¢
Felix007 â€” æ˜¨å¤© 16:49
:worrySad:
FBK â€” æ˜¨å¤© 17:14
å¹¹
åœ–ç‰‡
FBK â€” æ˜¨å¤© 17:23
å—¯?
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 17:23
å—¯ï¼
FBK â€” æ˜¨å¤© 17:23
å–”
å°±æ˜¯é€™é 
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 17:25
å–”ï¼Ÿ
FBK â€” æ˜¨å¤© 17:49
æ¯æ¬¡éƒ½è¦é‡è·‘5åˆ†é˜ï¼Œèºåˆ°ä¸è¡Œ
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 17:51
æˆ‘æƒ³è¦ç›´æ¥ç¿¹æ‰è³‡å®‰å›å»åšæ˜æ©Ÿçš„åƒåœ¾azure
:think:
FBK â€” æ˜¨å¤© 17:54
æ”¿å ƒå¤§äººå·²ç¶“é™ä¸‹ç¥è«­äº†
ç…§åšå°±å°äº†ï¼Œä¸æœƒå ±éŒ¯ï¼Œå ±éŒ¯å°±æ˜¯ä½ é†œ
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 17:56
å¯
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 17:58
åœ–ç‰‡
å‰ç«¯å°±å¥½ï¼Ÿ
FBK â€” æ˜¨å¤© 18:02
å‰ç«¯å°±å¥½
æˆ‘ç”šè‡³ä¸æ‰“ç®—å‹•css
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 18:03
100%htmlï¼Ÿ
FBK â€” æ˜¨å¤© 18:03
y
å¿ƒå¾—æ¯”è¼ƒéº»ç…©
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 18:04
@FBK æˆ‘å¥½æƒ³é‚£ä½ ä¹‹å‰å¯«çš„html
:catOMEGALUL:
FBK â€” æ˜¨å¤© 18:05
ä½ è¦å»åœ–æ›¸é¤¨è–¦è³¼ç³»çµ±æŠ“ä¸€å€‹æ±è¥¿è²¼åˆ°ä½ çš„ç¶²ç«™ä¸Šæ¬¸
å»ºè­°å»åˆ¥äººçš„ç¶²ç«™æŠ“æ¯”è¼ƒå¿«
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 18:06
:think:
ewd9210 â€” æ˜¨å¤© 19:27
æˆ‘é€™é å¼„å‡ºä¾†ä»¥å¾Œ å°±ç›´æ¥ç”¨notepad++å¯«ã„Œ
åœ–ç‰‡
æˆ‘åªå¯«é€™ã„
FBK â€” æ˜¨å¤© 19:29
å—¯ï¼Œç›´æ¥æ”¹æ‰å°±ä¸ç®¡äº†
ä½ é‚„æœ‰èª¿é¡è‰²:AobaREEE:
ewd9210 â€” æ˜¨å¤© 19:31
å° æˆ‘æ˜¯å¹¹å­¸æ ¡ä¸‹ä¾† åˆªæ‰å¤šé¤˜çš„å†æ”¹é¡è‰²
ä¸éæˆ‘æœ‰åšsonarqube
å¦‚æœä½ ä¹‹å‰è»Ÿé«”æ¸¬è©¦æœ‰åšå‡ºsonarqube é€™æ¬¡å°±ç°¡å–®äº†
FBK â€” æ˜¨å¤© 19:32
ä¸Šæ¬¡æœ‰ï¼Œä½†åˆªæ‰äº†ğŸš®
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 19:32
:meow:
ewd9210 â€” æ˜¨å¤© 19:32
ğŸ‘€
FBK â€” æ˜¨å¤© 19:32
:Thonk_1:
æ€ï¼Œé‚„æ˜¯æˆ‘è¨˜éŒ¯
ewd9210 â€” æ˜¨å¤© 19:36
åˆªæ‰çš„è©±å»ºè­°ä½ åˆ¥åšsonarqubeã„Œ é‚£è¶…éº»ç…©çš„
åæ­£ä¹Ÿä¸æ˜¯å¿…è¦
FBK â€” æ˜¨å¤© 19:37
çœ‹äº†ä¸€ä¸‹ï¼Œçš„ç¢ºä¸å¿…è¦ï¼Œå¾ˆå¤šäººéƒ½èªªç”¨äººå·¥æ¸¬è©¦è€Œå·²
ewd9210 â€” æ˜¨å¤© 19:59
æˆ‘å‰›å‰›ä¹Ÿçœ‹äº†ä¸€ä¸‹ æˆ‘åƒå¿«700ã„Œ æˆ‘ä¹Ÿåˆªæ‰ä¹‹å‰çš„äº†
æˆ‘ç›¸ä¿¡è»Ÿé«”æ¸¬è©¦ä¸æœƒè€ƒé‚£æ±è¥¿çš„
sonarqubeé—œæ‰ä¹Ÿæœƒè€—éŒ¢ æœ‰å¤ é åŒ—çš„
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 20:02
çµ¦ä»–è€—
:KABO:
ewd9210 â€” æ˜¨å¤© 20:03
å¥½éšªæˆ‘è»Ÿé«”å·¥ç¨‹å·²ç¶“æˆªåœ–å®Œäº† è¶•ç·Šåˆªæ‰
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 20:08
åœ–ç‰‡
æ‰€ä»¥å·®ä¸å¤šé€™æ¨£æ˜¯okçš„?
ewd9210 â€” æ˜¨å¤© 20:12
æ‡‰è©²å§
æœ€é³¥çš„å°±åšå…¬ä½ˆæ¬„
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 20:13
åœ–ç‰‡
æˆ‘å»çœ‹åˆ¥äººåšçš„
ewd9210 â€” æ˜¨å¤© 20:13
å¥½èªçœŸ
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 20:13
å¯æ˜¯æˆ‘å»é€¢ç”²åœ–æ›¸é¤¨ä¸Šéƒ½æ²’çœ‹åˆ°ç”šéº¼nid
ä¸çŸ¥é“ä»–å€‘é‚£äº›æ€éº¼ä¾†çš„
ç‘ªç³&èƒ¡æ¡ƒçš„é¬¼é¬¼ â€” æ˜¨å¤© 20:57
åœ–ç‰‡
è¨˜å¾—ä¹‹å‰å¥½åƒä¹Ÿæœ‰é
ä½†æ˜¯å¿˜äº†æ€éº¼è§£æ±ºçš„
å¸ƒé­¯è‰¾æ–¯æ‡·ç‰¹å¤šæ‹‰è²¢ â€” æ˜¨å¤© 22:05
è¶…éš¨ä¾¿çš„å®Œæˆç­†è¨˜
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 22:58
å¹¹æˆ‘æƒ³æ‰¾äººçš„ä¾†clone :AobaREEE:
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 23:28
å¹¹azureåªæœ‰å–®ä¸€ç¶²ç«™å—?
æˆ‘æœ‰æ²’æœ‰è¾¦æ³•åƒæ˜¯
xxx.azurewebsites.net/en/
xxx.azurewebsites.net/jp/
ä¹‹é¡çš„
å¹¹ ä¸è¡Œ
å¥½å§ @å¸ƒé­¯è‰¾æ–¯æ‡·ç‰¹å¤šæ‹‰è²¢ æˆ‘è¦ä¾†ä¿®ä½ çš„codeäº†
:catOMEGALUL:
ç­‰ç­‰
æˆ‘ä¸æœƒjs
:fillyRIP:
å¹»ç„æ«»|ç±³è˜‡æ¨ã— â€” æ˜¨å¤© 23:35
:Black_Cat:
ewd9210 â€” æ˜¨å¤© 23:36
åœ–ç‰‡
å¯ä»¥å•Š åƒæˆ‘å¤šçš„å°±æ²’åˆªæ‰
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 23:38
:nkoAhh:
ä½ çš„åº•æ˜¯ç”¨ç”šéº¼ 
æˆ‘ç”¨BMIçš„åº•ä¾†åšçš„
ewd9210 â€” æ˜¨å¤© 23:39
æˆ‘ç”¨github action
æœ€ç°¡å–®çš„å°±å¤šå¯«ä¸€å€‹en.html
ç„¶å¾ŒæŠŠä¸­æ–‡çš„ç¿»æˆè‹±æ–‡ç…§æŠ„éå»
é¸æ“‡èªè¨€çš„æ™‚å€™å°±åˆ‡æ›åˆ°en.htmlå°±å¥½
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 23:41
æˆ‘ç¾åœ¨å°±æ˜¯é€™éº¼æƒ³ä½†æ˜¯æˆ‘ä¸çŸ¥é“è¦æ€éº¼è®“æˆ‘æ‰“/ençš„æ™‚å€™é€£åˆ°en.html
ewd9210 â€” æ˜¨å¤© 23:44
åœ–ç‰‡
djangoæ˜¯é€™æ¨£ å…¶ä»–æˆ‘ä¸çŸ¥é“
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” æ˜¨å¤© 23:46
æ—©å°±çŸ¥é“ç›´æ¥æ‹¿ä¹‹å‰çš„djangoç›´æ¥è¶´ä¸Šå»å°±å¥½
:AobaREEE:
å¸ƒé­¯è‰¾æ–¯æ‡·ç‰¹å¤šæ‹‰è²¢ â€” ä»Šå¤© 00:02
:WatameConfused:
FBK â€” ä»Šå¤© 00:16
å¥½ï¼Œæå®šäº†ï¼Œç ´çˆ›ç¶²é ï¼Œä½†æœƒå‹•
css ?
æ²’æœ‰é‚£ç¨®æ±è¥¿ï¼Œå…¨éƒ½å¡é€²htmlè£¡
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” ä»Šå¤© 00:18
å¾ˆå¥½
åœ–ç‰‡
æˆ‘å®Œå…¨ä¸æœƒ
ä»–Selectä¸æœƒå‹•
FBK â€” ä»Šå¤© 00:21
ä½ å¯ä»¥è€ƒæ…®æ•´å¨æ›æˆi18n
çŒ«å³¶ãŸã¾|ã‚ã‹ã‚‰ãªã„ â€” ä»Šå¤© 00:38
:nkoAhh:
what
ï»¿
jobs:
  Build:
    name: Build and Run tests
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4
      with:
        python-version: '3.8'

    - name: Install Dependancies
      continue-on-error: false
      run: |
        pip install -r Application/requirements.txt
  
   # - name: Pytest
   #   continue-on-error: false
   #   run: |
   #     mkdir testresults
   #     pip install pytest
   #     pip install pytest-cov
   #     pytest --cov=./ --cov-config=.coveragerc --cov-report term-missing Tests/unit_tests --junitxml=./testresults/test-results.xml
   #     pip install pycmd
   #     py.cleanup Tests/
   
   # - uses: actions/checkout@v2
   #   with:
   #     fetch-depth: 0
   # - uses: sonarsource/sonarqube-scan-action@master
   #   env:
   #     SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
        
    # Uploading unit test results to artifact store
    - name: Upload unit test results to Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: UnitTestResults
        path: ./testresults/test-results.xml

    - name: Building web app
      uses: azure/appservice-build@v2-beta
      with:
          source-directory: ${{ env.AZURE_WEBAPP_PACKAGE_PATH }}
          output-directory: ${{ env.AZURE_WEBAPP_PACKAGE_PATH }}

    - name: Creating artifact directories
      run: |
        mkdir buildartifacts
        mkdir testartifacts
        mkdir deploymenttemplates
    # Archive build artifact
    - name: Archive Application
      run: |
       zip -qq -r ./buildartifacts/Application.zip ./Application
    # Uploading application to artifact store
    - name: Upload Application to Build Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: buildartifacts
        path: buildartifacts

    # Archive Arm template
    - name: Archive ArmTemplates
      run: |
        zip -qq -r ./deploymenttemplates/ArmTemplates.zip ./ArmTemplates
    # Uploading Arm Template to artifact store
    - name: Upload Arm templates to Artifact
      continue-on-error: false
      uses: actions/upload-artifact@v2
      with:
        name: deploymenttemplates
        path: deploymenttemplates

  Deploy:
    name: Deploy to azure web app
    needs: Build
    runs-on: ubuntu-latest
    steps:
    # Downloading build artifact
    - name: Download Build Artifact
      uses: actions/download-artifact@v2
      continue-on-error: false
      with:
        name: buildartifacts
        path: buildartifacts

    # Unzipping build artifacts
    - name: Unzipping Build Artifact
      run: |
        unzip -qq ./buildartifacts/Application.zip -d .
  # Downloading Arm Template
    - name: Download Arm Template
      uses: actions/download-artifact@v2
      continue-on-error: false
      with:
        name: deploymenttemplates
        path: deploymenttemplates

    # Unzipping Arm Template directory
    - name: Unzipping ARM template
      run: |
       unzip -qq ./deploymenttemplates/ArmTemplates.zip -d .
    # Azure Login
    - name: Azure Login
      uses: azure/login@v1
      continue-on-error: false
      with:
        creds: ${{ secrets.AZURE_CREDENTIALS }}

    # Deploy ARM Template
    - name: Deploy ARM Template
      uses: azure/CLI@v1
      continue-on-error: false
      with:
        inlineScript: |
          az group create --name "${{ env.RESOURCEGROUPNAME }}" --location "${{ env.LOCATION }}"
          az deployment group create --resource-group "${{ env.RESOURCEGROUPNAME }}" --template-file ./ArmTemplates/linux-python-webapp-template.json --parameters webAppName="${{ env.AZURE_WEBAPP_NAME }}" hostingPlanName="${{ env.HOSTINGPLANNAME }}" appInsightsLocation="${{ env.APPINSIGHTLOCATION }}" sku="${{ env.SKU }}"
    # Deploy web app
    - name: 'Deploy to Azure WebApp'
      uses: azure/webapps-deploy@v2
      with: 
        app-name: ${{ env.AZURE_WEBAPP_NAME }}
        package: ${{ env.AZURE_WEBAPP_PACKAGE_PATH }}